<div class="chatroom container">
  <%= "<br><br><br><h1>You do not have any chatrooms</h1>".html_safe if @chatrooms.size == 0 %>
  <div class="row">
    <% @chatrooms.each do |chatroom| %>
      <div class="col border m-2">
          <%= link_to "<i class=\"far fa-trash-alt\"></i>".html_safe, chatroom_path(chatroom), method: :delete, data: { confirm: "Are you sure?" }, class: "text-danger" %>
          <h3><%= chatroom.name %></h3>
            <!-- List of Messages -->
            <div id="messages" data-chatroom-id="<%= chatroom.id %>">
              <% chatroom.messages.each do |message| %>
                <div class="message-container" id="message-<%= message.id %>">
                  <i class="author">
                    <span><%= message.user.incomplete_name %></span>
                    <small>(<%= message.created_at.strftime("%d/%m/%Y at %H:%M") %>)</small>
                  </i>
                  <p class="ml-5"><%= message.content %></p>
                </div>
              <% end %>
            </div>
            <!-- Create a new message -->
            <%= simple_form_for [ chatroom, @message ], remote: true do |f| %>
              <%= f.input :content, label: false, placeholder: "Message" %>
            <% end %>
      </div>
   <% end %>
 </div>
</div>
