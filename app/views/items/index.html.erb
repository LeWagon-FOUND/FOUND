<h1>My items</h1>

<div class="d-flex flex-wrap">

  <% @items.each do |item| %>
  <% item.photo.attached? ? img = item.photo.key : img = "defaultavatar" %>
  <% item.notification == "true" ? bell = "<i class=\"far fa-bell text-success\"></i>" : bell = "<i class=\"far fa-bell-slash text-danger\"></i>" %>
    <div class="card m-3" style="width: 18rem;">
      <%= cl_image_tag img, height: 200, width: 300, crop: :fill, class: "card-img-top" %>
      <div class="card-body d-flex flex-column align-items-stretch">
        <h5 class="card-title font-weight-bold"><%= item.name %> <%= bell.html_safe %></h5>
        <p class="card-text"> <%= item.message %></p>
      </div>
      <div class="card-body d-flex justify-content-around align-items-end">
        <%= link_to "<i class=\"fas fa-qrcode\"></i>".html_safe, "qrcode", class: "text-dark" %>
        <%= link_to "<i class=\"fas fa-binoculars\"></i>".html_safe, user_item_path(item) %>
        <%= link_to "<i class=\"far fa-edit\"></i>".html_safe, edit_user_item_path(item), class: "text-warning" %>
        <%= link_to "<i class=\"far fa-trash-alt\"></i>".html_safe, user_item_path(item), method: :delete, data: { confirm: "Are you sure?" }, class: "text-danger" %>
      </div>
    </div>
  <% end %>

  <%= simple_form_for [current_user, @item] do |f| %>
    <div class="card m-3 text-white bg-secondary" style="width: 18rem;">
        <%= f.input :photo, as: :file, class: "card-img-top", label:false %>
      <div class="card-body d-flex flex-column align-items-stretch">
        <h5 class="card-title font-weight-bold"><%= f.input :name, placeholder: "Name", label: false %></h5>
        <p class="card-text"> <%= f.input :message, as: :text, placeholder: "Message", label: false %></p>
      </div>
      <div class="card-body d-flex justify-content-around align-items-end">
        <%= f.input :notification, as: :boolean, checked_value: "true", unchecked_value: "false" %>
        <%= f.button :submit, label:false %>
      </div>
    </div>
  <% end %>

</div>
